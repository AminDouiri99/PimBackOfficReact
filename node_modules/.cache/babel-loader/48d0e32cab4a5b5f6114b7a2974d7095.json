{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\21653\\\\Downloads\\\\tua-react-admin-main\\\\tua-react-admin-main\\\\src\\\\pages\\\\Finance\\\\Finance.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport SelectWalletModal from \"./Modal/Modal\";\nimport { VStack, useDisclosure, Button, Text, HStack, Select, Input, Box } from \"@chakra-ui/react\";\nimport { CheckCircleIcon, WarningIcon } from \"@chakra-ui/icons\";\nimport { Tooltip } from \"@chakra-ui/react\";\nimport { connectors } from \"./Utils/connectors\";\nimport { toHex, truncateAddress } from \"./Utils/utils\";\nimport { networkParams } from \"./Utils/network\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Finance = () => {\n  _s();\n\n  const [defaultAccount, setDefaultAccount] = useState();\n  const [userBalance, setuserBalance] = useState();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const {\n    library,\n    chainId,\n    account,\n    activate,\n    deactivate,\n    active\n  } = useWeb3React();\n  const [signature, setSignature] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [network, setNetwork] = useState(undefined);\n  const [message, setMessage] = useState(\"\");\n  const [signedMessage, setSignedMessage] = useState(\"\");\n  const [verified, setVerified] = useState();\n\n  const openMetamask = () => {\n    if (window.ethereum) {\n      window.ethereum.request({\n        method: \"eth_requestAccounts\"\n      }).then(res => {\n        accounChangeHandler(res[0]);\n      });\n    } else {\n      setError(\"install metamask\");\n    }\n  };\n\n  const handleNetwork = e => {\n    const id = e.target.value;\n    setNetwork(Number(id));\n  };\n\n  const handleInput = e => {\n    const msg = e.target.value;\n    setMessage(msg);\n  };\n\n  const switchNetwork = async () => {\n    try {\n      await library.provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: toHex(network)\n        }]\n      });\n    } catch (switchError) {\n      if (switchError.code === 4902) {\n        try {\n          await library.provider.request({\n            method: \"wallet_addEthereumChain\",\n            params: [networkParams[toHex(network)]]\n          });\n        } catch (error) {\n          setError(error);\n        }\n      }\n    }\n  };\n\n  const signMessage = async () => {\n    if (!library) return;\n\n    try {\n      const signature = await library.provider.request({\n        method: \"personal_sign\",\n        params: [message, account]\n      });\n      setSignedMessage(message);\n      setSignature(signature);\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  const verifyMessage = async () => {\n    if (!library) return;\n\n    try {\n      const verify = await library.provider.request({\n        method: \"personal_ecRecover\",\n        params: [signedMessage, signature]\n      });\n      setVerified(verify === account.toLowerCase());\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  const refreshState = () => {\n    window.localStorage.setItem(\"provider\", undefined);\n    setNetwork(\"\");\n    setMessage(\"\");\n    setSignature(\"\");\n    setVerified(undefined);\n  };\n\n  const disconnect = () => {\n    refreshState();\n    deactivate();\n  };\n\n  useEffect(() => {\n    const provider = window.localStorage.getItem(\"provider\");\n    if (provider) activate(connectors[provider]);\n  }, []);\n\n  const accounChangeHandler = newAccount => {\n    setDefaultAccount(newAccount);\n    getUserBalance(newAccount);\n  };\n\n  const getUserBalance = address => {\n    window.ethereum.request({\n      method: \"eth_getBalance\",\n      params: [address, \"latest\"]\n    }).then(balance => {\n      setuserBalance(ethers.utils.formatEther(balance));\n    });\n  }; //window.ethereum.on(\"accountsChanged\", accounChangeHandler);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Finance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"wallet\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        class: \"left-wallet\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"wallet-head\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \" My Wallets \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-open\",\n            onClick: openMetamask,\n            children: /*#__PURE__*/_jsxDEV(HStack, {\n              children: !active ? /*#__PURE__*/_jsxDEV(Button, {\n                onClick: onOpen,\n                children: \"Connect Wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                onClick: disconnect,\n                children: \"Disconnect\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), \"'\", /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"cc-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"'+data.id+'\",\n            class: \"cc mc\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"cc-img-main\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"cc-num\",\n              children: defaultAccount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"cc-date\",\n              children: \"Valid Thru: 12/17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"content\", {\n        className: \"right-trans\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Current Balance \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          id: \"balance\",\n          children: [userBalance, \" ETH\", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"trans-list\",\n          children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              position: \"absolute\",\n              top: 0,\n              right: \"15px\",\n              children: \"If you're in the sandbox, first \\\"Open in New Window\\\" \\u2B06\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(VStack, {\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              h: \"100vh\",\n              children: [/*#__PURE__*/_jsxDEV(HStack, {\n                marginBottom: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  margin: \"0\",\n                  lineHeight: \"1.15\",\n                  fontSize: [\"1.5em\", \"2em\", \"3em\", \"4em\"],\n                  fontWeight: \"600\",\n                  children: \"Let's connect with\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  margin: \"0\",\n                  lineHeight: \"1.15\",\n                  fontSize: [\"1.5em\", \"2em\", \"3em\", \"4em\"],\n                  fontWeight: \"600\",\n                  sx: {\n                    background: \"linear-gradient(90deg, #1652f0 0%, #b9cbfb 70.35%)\",\n                    WebkitBackgroundClip: \"text\",\n                    WebkitTextFillColor: \"transparent\"\n                  },\n                  children: \"Web3-React\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(HStack, {\n                children: !active ? /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: onOpen,\n                  children: \"Connect Wallet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: disconnect,\n                  children: \"Disconnect\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(VStack, {\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                padding: \"10px 0\",\n                children: [/*#__PURE__*/_jsxDEV(HStack, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: `Connection Status: `\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this), active ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                    color: \"green\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(WarningIcon, {\n                    color: \"#cd5700\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  label: account,\n                  placement: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    children: `Account: ${truncateAddress(account)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  children: `Network ID: ${chainId ? chainId : \"No Network\"}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), active && /*#__PURE__*/_jsxDEV(HStack, {\n                justifyContent: \"flex-start\",\n                alignItems: \"flex-start\",\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  maxW: \"sm\",\n                  borderWidth: \"1px\",\n                  borderRadius: \"lg\",\n                  overflow: \"hidden\",\n                  padding: \"10px\",\n                  children: /*#__PURE__*/_jsxDEV(VStack, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: switchNetwork,\n                      isDisabled: !network,\n                      children: \"Switch Network\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      placeholder: \"Select network\",\n                      onChange: handleNetwork,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"3\",\n                        children: \"Ropsten\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"4\",\n                        children: \"Rinkeby\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"42\",\n                        children: \"Kovan\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 241,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"1666600000\",\n                        children: \"Harmony\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 242,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"42220\",\n                        children: \"Celo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  maxW: \"sm\",\n                  borderWidth: \"1px\",\n                  borderRadius: \"lg\",\n                  overflow: \"hidden\",\n                  padding: \"10px\",\n                  children: /*#__PURE__*/_jsxDEV(VStack, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: signMessage,\n                      isDisabled: !message,\n                      children: \"Sign Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      placeholder: \"Set Message\",\n                      maxLength: 20,\n                      onChange: handleInput,\n                      w: \"140px\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 25\n                    }, this), signature ? /*#__PURE__*/_jsxDEV(Tooltip, {\n                      label: signature,\n                      placement: \"bottom\",\n                      children: /*#__PURE__*/_jsxDEV(Text, {\n                        children: `Signature: ${truncateAddress(signature)}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 27\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  maxW: \"sm\",\n                  borderWidth: \"1px\",\n                  borderRadius: \"lg\",\n                  overflow: \"hidden\",\n                  padding: \"10px\",\n                  children: /*#__PURE__*/_jsxDEV(VStack, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: verifyMessage,\n                      isDisabled: !signature,\n                      children: \"Verify Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 25\n                    }, this), verified !== undefined ? verified === true ? /*#__PURE__*/_jsxDEV(VStack, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                        color: \"green\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Text, {\n                        children: \"Signature Verified!\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(VStack, {\n                      children: [/*#__PURE__*/_jsxDEV(WarningIcon, {\n                        color: \"red\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Text, {\n                        children: \"Signature Denied!\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 29\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                children: error ? error.message : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectWalletModal, {\n              isOpen: isOpen,\n              closeModal: onClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true), \"'\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"trans trans mc\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"trans-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"trans-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                class: \"trans-name\",\n                children: \"Apple Iphone 6, 6g GB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                class: \"trans-type-date\",\n                children: \"Electronics #343223 - 12 July, 2015\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"trans-amt\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                class: \"trans-amt amt-green\",\n                children: \"5000 DT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Finance, \"TPTbhI1OVOGWb7nZm7E1q/z4h0Q=\", false, function () {\n  return [useDisclosure, useWeb3React];\n});\n\n_c = Finance;\nexport default Finance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Finance\");","map":{"version":3,"sources":["C:/Users/21653/Downloads/tua-react-admin-main/tua-react-admin-main/src/pages/Finance/Finance.jsx"],"names":["React","useState","useEffect","ethers","useWeb3React","SelectWalletModal","VStack","useDisclosure","Button","Text","HStack","Select","Input","Box","CheckCircleIcon","WarningIcon","Tooltip","connectors","toHex","truncateAddress","networkParams","Finance","defaultAccount","setDefaultAccount","userBalance","setuserBalance","isOpen","onOpen","onClose","library","chainId","account","activate","deactivate","active","signature","setSignature","error","setError","network","setNetwork","undefined","message","setMessage","signedMessage","setSignedMessage","verified","setVerified","openMetamask","window","ethereum","request","method","then","res","accounChangeHandler","handleNetwork","e","id","target","value","Number","handleInput","msg","switchNetwork","provider","params","switchError","code","signMessage","verifyMessage","verify","toLowerCase","refreshState","localStorage","setItem","disconnect","getItem","newAccount","getUserBalance","address","balance","utils","formatEther","background","WebkitBackgroundClip","WebkitTextFillColor"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,OAAOC,iBAAP,MAA8B,eAA9B;AACA,SACEC,MADF,EAEEC,aAFF,EAGEC,MAHF,EAIEC,IAJF,EAKEC,MALF,EAMEC,MANF,EAOEC,KAPF,EAQEC,GARF,QASO,kBATP;AAUA,SAASC,eAAT,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,KAAT,EAAgBC,eAAhB,QAAuC,eAAvC;AACA,SAASC,aAAT,QAA8B,iBAA9B;;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCtB,QAAQ,EAApD;AACA,QAAM,CAACuB,WAAD,EAAcC,cAAd,IAAgCxB,QAAQ,EAA9C;AACA,QAAM;AAAEyB,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA;AAAlB,MAA8BrB,aAAa,EAAjD;AACA,QAAM;AAAEsB,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA,OAApB;AAA6BC,IAAAA,QAA7B;AAAuCC,IAAAA,UAAvC;AAAmDC,IAAAA;AAAnD,MACJ9B,YAAY,EADd;AAEA,QAAM,CAAC+B,SAAD,EAAYC,YAAZ,IAA4BnC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACoC,KAAD,EAAQC,QAAR,IAAoBrC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACsC,OAAD,EAAUC,UAAV,IAAwBvC,QAAQ,CAACwC,SAAD,CAAtC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB1C,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC2C,aAAD,EAAgBC,gBAAhB,IAAoC5C,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAAC6C,QAAD,EAAWC,WAAX,IAA0B9C,QAAQ,EAAxC;;AACA,QAAM+C,YAAY,GAAG,MAAM;AACzB,QAAIC,MAAM,CAACC,QAAX,EAAqB;AACnBD,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAxB,EAA2DC,IAA3D,CAAiEC,GAAD,IAAS;AACvEC,QAAAA,mBAAmB,CAACD,GAAG,CAAC,CAAD,CAAJ,CAAnB;AACD,OAFD;AAGD,KAJD,MAIO;AACLhB,MAAAA,QAAQ,CAAC,kBAAD,CAAR;AACD;AACF,GARD;;AAUA,QAAMkB,aAAa,GAAIC,CAAD,IAAO;AAC3B,UAAMC,EAAE,GAAGD,CAAC,CAACE,MAAF,CAASC,KAApB;AACApB,IAAAA,UAAU,CAACqB,MAAM,CAACH,EAAD,CAAP,CAAV;AACD,GAHD;;AAKA,QAAMI,WAAW,GAAIL,CAAD,IAAO;AACzB,UAAMM,GAAG,GAAGN,CAAC,CAACE,MAAF,CAASC,KAArB;AACAjB,IAAAA,UAAU,CAACoB,GAAD,CAAV;AACD,GAHD;;AAKA,QAAMC,aAAa,GAAG,YAAY;AAChC,QAAI;AACF,YAAMnC,OAAO,CAACoC,QAAR,CAAiBd,OAAjB,CAAyB;AAC7BC,QAAAA,MAAM,EAAE,4BADqB;AAE7Bc,QAAAA,MAAM,EAAE,CAAC;AAAEpC,UAAAA,OAAO,EAAEZ,KAAK,CAACqB,OAAD;AAAhB,SAAD;AAFqB,OAAzB,CAAN;AAID,KALD,CAKE,OAAO4B,WAAP,EAAoB;AACpB,UAAIA,WAAW,CAACC,IAAZ,KAAqB,IAAzB,EAA+B;AAC7B,YAAI;AACF,gBAAMvC,OAAO,CAACoC,QAAR,CAAiBd,OAAjB,CAAyB;AAC7BC,YAAAA,MAAM,EAAE,yBADqB;AAE7Bc,YAAAA,MAAM,EAAE,CAAC9C,aAAa,CAACF,KAAK,CAACqB,OAAD,CAAN,CAAd;AAFqB,WAAzB,CAAN;AAID,SALD,CAKE,OAAOF,KAAP,EAAc;AACdC,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;AACF;AACF;AACF,GAlBD;;AAoBA,QAAMgC,WAAW,GAAG,YAAY;AAC9B,QAAI,CAACxC,OAAL,EAAc;;AACd,QAAI;AACF,YAAMM,SAAS,GAAG,MAAMN,OAAO,CAACoC,QAAR,CAAiBd,OAAjB,CAAyB;AAC/CC,QAAAA,MAAM,EAAE,eADuC;AAE/Cc,QAAAA,MAAM,EAAE,CAACxB,OAAD,EAAUX,OAAV;AAFuC,OAAzB,CAAxB;AAIAc,MAAAA,gBAAgB,CAACH,OAAD,CAAhB;AACAN,MAAAA,YAAY,CAACD,SAAD,CAAZ;AACD,KAPD,CAOE,OAAOE,KAAP,EAAc;AACdC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;AACF,GAZD;;AAcA,QAAMiC,aAAa,GAAG,YAAY;AAChC,QAAI,CAACzC,OAAL,EAAc;;AACd,QAAI;AACF,YAAM0C,MAAM,GAAG,MAAM1C,OAAO,CAACoC,QAAR,CAAiBd,OAAjB,CAAyB;AAC5CC,QAAAA,MAAM,EAAE,oBADoC;AAE5Cc,QAAAA,MAAM,EAAE,CAACtB,aAAD,EAAgBT,SAAhB;AAFoC,OAAzB,CAArB;AAIAY,MAAAA,WAAW,CAACwB,MAAM,KAAKxC,OAAO,CAACyC,WAAR,EAAZ,CAAX;AACD,KAND,CAME,OAAOnC,KAAP,EAAc;AACdC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;AACF,GAXD;;AAaA,QAAMoC,YAAY,GAAG,MAAM;AACzBxB,IAAAA,MAAM,CAACyB,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAwClC,SAAxC;AACAD,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAG,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAP,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAW,IAAAA,WAAW,CAACN,SAAD,CAAX;AACD,GAND;;AAQA,QAAMmC,UAAU,GAAG,MAAM;AACvBH,IAAAA,YAAY;AACZxC,IAAAA,UAAU;AACX,GAHD;;AAKA/B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+D,QAAQ,GAAGhB,MAAM,CAACyB,YAAP,CAAoBG,OAApB,CAA4B,UAA5B,CAAjB;AACA,QAAIZ,QAAJ,EAAcjC,QAAQ,CAACf,UAAU,CAACgD,QAAD,CAAX,CAAR;AACf,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMV,mBAAmB,GAAIuB,UAAD,IAAgB;AAC1CvD,IAAAA,iBAAiB,CAACuD,UAAD,CAAjB;AACAC,IAAAA,cAAc,CAACD,UAAD,CAAd;AACD,GAHD;;AAIA,QAAMC,cAAc,GAAIC,OAAD,IAAa;AAClC/B,IAAAA,MAAM,CAACC,QAAP,CACGC,OADH,CACW;AAAEC,MAAAA,MAAM,EAAE,gBAAV;AAA4Bc,MAAAA,MAAM,EAAE,CAACc,OAAD,EAAU,QAAV;AAApC,KADX,EAEG3B,IAFH,CAES4B,OAAD,IAAa;AACjBxD,MAAAA,cAAc,CAACtB,MAAM,CAAC+E,KAAP,CAAaC,WAAb,CAAyBF,OAAzB,CAAD,CAAd;AACD,KAJH;AAKD,GAND,CArGoB,CA4GpB;;;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,oBACmB;AAAA;AAAA;AAAA;AAAA,YADnB,eAEE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,8BACE;AAAO,QAAA,KAAK,EAAC,aAAb;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,aAAX;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,KAAK,EAAC,YAAX;AAAwB,YAAA,OAAO,EAAEjC,YAAjC;AAAA,mCACE,QAAC,MAAD;AAAA,wBACG,CAACd,MAAD,gBACC,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAEP,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,gBAGC,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAEiD,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,oBAcE;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA,kCACE;AAAK,YAAA,EAAE,EAAC,aAAR;AAAsB,YAAA,KAAK,EAAC,OAA5B;AAAA,oCACE;AAAK,cAAA,KAAK,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,KAAK,EAAC,QAAX;AAAA,wBAAqBtD;AAArB;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAK,cAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAwBE;AAAS,QAAA,SAAS,EAAC,aAAnB;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,EAAE,EAAC,SAAP;AAAA,qBACGE,WADH,UAEGa,KAFH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAME;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA,kCACE;AAAA,oCACE,QAAC,IAAD;AAAM,cAAA,QAAQ,EAAC,UAAf;AAA0B,cAAA,GAAG,EAAE,CAA/B;AAAkC,cAAA,KAAK,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD;AAAQ,cAAA,cAAc,EAAC,QAAvB;AAAgC,cAAA,UAAU,EAAC,QAA3C;AAAoD,cAAA,CAAC,EAAC,OAAtD;AAAA,sCACE,QAAC,MAAD;AAAQ,gBAAA,YAAY,EAAC,MAArB;AAAA,wCACE,QAAC,IAAD;AACE,kBAAA,MAAM,EAAC,GADT;AAEE,kBAAA,UAAU,EAAC,MAFb;AAGE,kBAAA,QAAQ,EAAE,CAAC,OAAD,EAAU,KAAV,EAAiB,KAAjB,EAAwB,KAAxB,CAHZ;AAIE,kBAAA,UAAU,EAAC,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eASE,QAAC,IAAD;AACE,kBAAA,MAAM,EAAC,GADT;AAEE,kBAAA,UAAU,EAAC,MAFb;AAGE,kBAAA,QAAQ,EAAE,CAAC,OAAD,EAAU,KAAV,EAAiB,KAAjB,EAAwB,KAAxB,CAHZ;AAIE,kBAAA,UAAU,EAAC,KAJb;AAKE,kBAAA,EAAE,EAAE;AACF+C,oBAAAA,UAAU,EACR,oDAFA;AAGFC,oBAAAA,oBAAoB,EAAE,MAHpB;AAIFC,oBAAAA,mBAAmB,EAAE;AAJnB,mBALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBATF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAyBE,QAAC,MAAD;AAAA,0BACG,CAACpD,MAAD,gBACC,QAAC,MAAD;AAAQ,kBAAA,OAAO,EAAEP,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,gBAGC,QAAC,MAAD;AAAQ,kBAAA,OAAO,EAAEiD,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,sBAzBF,eAgCE,QAAC,MAAD;AACE,gBAAA,cAAc,EAAC,QADjB;AAEE,gBAAA,UAAU,EAAC,QAFb;AAGE,gBAAA,OAAO,EAAC,QAHV;AAAA,wCAKE,QAAC,MAAD;AAAA,0CACE,QAAC,IAAD;AAAA,8BAAQ;AAAR;AAAA;AAAA;AAAA;AAAA,0BADF,EAEG1C,MAAM,gBACL,QAAC,eAAD;AAAiB,oBAAA,KAAK,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,0BADK,gBAGL,QAAC,WAAD;AAAa,oBAAA,KAAK,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,0BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAcE,QAAC,OAAD;AAAS,kBAAA,KAAK,EAAEH,OAAhB;AAAyB,kBAAA,SAAS,EAAC,OAAnC;AAAA,yCACE,QAAC,IAAD;AAAA,8BAAQ,YAAWZ,eAAe,CAACY,OAAD,CAAU;AAA5C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAdF,eAiBE,QAAC,IAAD;AAAA,4BAAQ,eACND,OAAO,GAAGA,OAAH,GAAa,YACrB;AAFD;AAAA;AAAA;AAAA;AAAA,wBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhCF,EAqDGI,MAAM,iBACL,QAAC,MAAD;AAAQ,gBAAA,cAAc,EAAC,YAAvB;AAAoC,gBAAA,UAAU,EAAC,YAA/C;AAAA,wCACE,QAAC,GAAD;AACE,kBAAA,IAAI,EAAC,IADP;AAEE,kBAAA,WAAW,EAAC,KAFd;AAGE,kBAAA,YAAY,EAAC,IAHf;AAIE,kBAAA,QAAQ,EAAC,QAJX;AAKE,kBAAA,OAAO,EAAC,MALV;AAAA,yCAOE,QAAC,MAAD;AAAA,4CACE,QAAC,MAAD;AAAQ,sBAAA,OAAO,EAAE8B,aAAjB;AAAgC,sBAAA,UAAU,EAAE,CAACzB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE,QAAC,MAAD;AACE,sBAAA,WAAW,EAAC,gBADd;AAEE,sBAAA,QAAQ,EAAEiB,aAFZ;AAAA,8CAIE;AAAQ,wBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJF,eAKE;AAAQ,wBAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BALF,eAME;AAAQ,wBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BANF,eAOE;AAAQ,wBAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAPF,eAQE;AAAQ,wBAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BARF;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,wBADF,eAwBE,QAAC,GAAD;AACE,kBAAA,IAAI,EAAC,IADP;AAEE,kBAAA,WAAW,EAAC,KAFd;AAGE,kBAAA,YAAY,EAAC,IAHf;AAIE,kBAAA,QAAQ,EAAC,QAJX;AAKE,kBAAA,OAAO,EAAC,MALV;AAAA,yCAOE,QAAC,MAAD;AAAA,4CACE,QAAC,MAAD;AAAQ,sBAAA,OAAO,EAAEa,WAAjB;AAA8B,sBAAA,UAAU,EAAE,CAAC3B,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE,QAAC,KAAD;AACE,sBAAA,WAAW,EAAC,aADd;AAEE,sBAAA,SAAS,EAAE,EAFb;AAGE,sBAAA,QAAQ,EAAEoB,WAHZ;AAIE,sBAAA,CAAC,EAAC;AAJJ;AAAA;AAAA;AAAA;AAAA,4BAJF,EAUG3B,SAAS,gBACR,QAAC,OAAD;AAAS,sBAAA,KAAK,EAAEA,SAAhB;AAA2B,sBAAA,SAAS,EAAC,QAArC;AAAA,6CACE,QAAC,IAAD;AAAA,kCAAQ,cAAahB,eAAe,CAClCgB,SADkC,CAElC;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BADQ,GAMN,IAhBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,wBAxBF,eAkDE,QAAC,GAAD;AACE,kBAAA,IAAI,EAAC,IADP;AAEE,kBAAA,WAAW,EAAC,KAFd;AAGE,kBAAA,YAAY,EAAC,IAHf;AAIE,kBAAA,QAAQ,EAAC,QAJX;AAKE,kBAAA,OAAO,EAAC,MALV;AAAA,yCAOE,QAAC,MAAD;AAAA,4CACE,QAAC,MAAD;AAAQ,sBAAA,OAAO,EAAEmC,aAAjB;AAAgC,sBAAA,UAAU,EAAE,CAACnC,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAIGW,QAAQ,KAAKL,SAAb,GACCK,QAAQ,KAAK,IAAb,gBACE,QAAC,MAAD;AAAA,8CACE,QAAC,eAAD;AAAiB,wBAAA,KAAK,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,gBAME,QAAC,MAAD;AAAA,8CACE,QAAC,WAAD;AAAa,wBAAA,KAAK,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPH,GAYG,IAhBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,wBAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtDJ,eAoIE,QAAC,IAAD;AAAA,0BAAOT,KAAK,GAAGA,KAAK,CAACK,OAAT,GAAmB;AAA/B;AAAA;AAAA;AAAA;AAAA,sBApIF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eA0IE,QAAC,iBAAD;AAAmB,cAAA,MAAM,EAAEhB,MAA3B;AAAmC,cAAA,UAAU,EAAEE;AAA/C;AAAA;AAAA;AAAA;AAAA,oBA1IF;AAAA,0BADF,OA6II,GA7IJ,eA8IE;AAAK,YAAA,KAAK,EAAC,gBAAX;AAAA,oCACE;AAAK,cAAA,KAAK,EAAC,eAAX;AAAA,sCACE;AAAM,gBAAA,KAAK,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAI,gBAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAI,gBAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAQE;AAAK,cAAA,KAAK,EAAC,WAAX;AAAA,qCACE;AAAI,gBAAA,KAAK,EAAC,qBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA9IF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgMD,CA7SD;;GAAMP,O;UAGgCd,a,EAElCH,Y;;;KALEiB,O;AA+SN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport SelectWalletModal from \"./Modal/Modal\";\r\nimport {\r\n  VStack,\r\n  useDisclosure,\r\n  Button,\r\n  Text,\r\n  HStack,\r\n  Select,\r\n  Input,\r\n  Box,\r\n} from \"@chakra-ui/react\";\r\nimport { CheckCircleIcon, WarningIcon } from \"@chakra-ui/icons\";\r\nimport { Tooltip } from \"@chakra-ui/react\";\r\nimport { connectors } from \"./Utils/connectors\";\r\nimport { toHex, truncateAddress } from \"./Utils/utils\";\r\nimport { networkParams } from \"./Utils/network\";\r\n\r\nconst Finance = () => {\r\n  const [defaultAccount, setDefaultAccount] = useState();\r\n  const [userBalance, setuserBalance] = useState();\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n  const { library, chainId, account, activate, deactivate, active } =\r\n    useWeb3React();\r\n  const [signature, setSignature] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [network, setNetwork] = useState(undefined);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [signedMessage, setSignedMessage] = useState(\"\");\r\n  const [verified, setVerified] = useState();\r\n  const openMetamask = () => {\r\n    if (window.ethereum) {\r\n      window.ethereum.request({ method: \"eth_requestAccounts\" }).then((res) => {\r\n        accounChangeHandler(res[0]);\r\n      });\r\n    } else {\r\n      setError(\"install metamask\");\r\n    }\r\n  };\r\n\r\n  const handleNetwork = (e) => {\r\n    const id = e.target.value;\r\n    setNetwork(Number(id));\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const msg = e.target.value;\r\n    setMessage(msg);\r\n  };\r\n\r\n  const switchNetwork = async () => {\r\n    try {\r\n      await library.provider.request({\r\n        method: \"wallet_switchEthereumChain\",\r\n        params: [{ chainId: toHex(network) }],\r\n      });\r\n    } catch (switchError) {\r\n      if (switchError.code === 4902) {\r\n        try {\r\n          await library.provider.request({\r\n            method: \"wallet_addEthereumChain\",\r\n            params: [networkParams[toHex(network)]],\r\n          });\r\n        } catch (error) {\r\n          setError(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const signMessage = async () => {\r\n    if (!library) return;\r\n    try {\r\n      const signature = await library.provider.request({\r\n        method: \"personal_sign\",\r\n        params: [message, account],\r\n      });\r\n      setSignedMessage(message);\r\n      setSignature(signature);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const verifyMessage = async () => {\r\n    if (!library) return;\r\n    try {\r\n      const verify = await library.provider.request({\r\n        method: \"personal_ecRecover\",\r\n        params: [signedMessage, signature],\r\n      });\r\n      setVerified(verify === account.toLowerCase());\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const refreshState = () => {\r\n    window.localStorage.setItem(\"provider\", undefined);\r\n    setNetwork(\"\");\r\n    setMessage(\"\");\r\n    setSignature(\"\");\r\n    setVerified(undefined);\r\n  };\r\n\r\n  const disconnect = () => {\r\n    refreshState();\r\n    deactivate();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const provider = window.localStorage.getItem(\"provider\");\r\n    if (provider) activate(connectors[provider]);\r\n  }, []);\r\n\r\n  const accounChangeHandler = (newAccount) => {\r\n    setDefaultAccount(newAccount);\r\n    getUserBalance(newAccount);\r\n  };\r\n  const getUserBalance = (address) => {\r\n    window.ethereum\r\n      .request({ method: \"eth_getBalance\", params: [address, \"latest\"] })\r\n      .then((balance) => {\r\n        setuserBalance(ethers.utils.formatEther(balance));\r\n      });\r\n  };\r\n  //window.ethereum.on(\"accountsChanged\", accounChangeHandler);\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Finance</h2> <br />\r\n      <div class=\"wallet\">\r\n        <aside class=\"left-wallet\">\r\n          <div class=\"wallet-head\">\r\n            <h1> My Wallets </h1>\r\n            <div class=\"modal-open\" onClick={openMetamask}>\r\n              <HStack>\r\n                {!active ? (\r\n                  <Button onClick={onOpen}>Connect Wallet</Button>\r\n                ) : (\r\n                  <Button onClick={disconnect}>Disconnect</Button>\r\n                )}\r\n              </HStack>\r\n            </div>\r\n          </div>\r\n          '\r\n          <div class=\"cc-select\">\r\n            <div id=\"'+data.id+'\" class=\"cc mc\">\r\n              <div class=\"cc-img-main\"></div>\r\n              <div class=\"cc-num\">{defaultAccount}</div>\r\n              <div class=\"cc-date\">Valid Thru: 12/17</div>\r\n            </div>\r\n            \"\r\n          </div>\r\n        </aside>\r\n        <content className=\"right-trans\">\r\n          <h1> Current Balance </h1>\r\n          <h4 id=\"balance\">\r\n            {userBalance} ETH\r\n            {error}\r\n          </h4>\r\n          <div class=\"trans-list\">\r\n            <>\r\n              <Text position=\"absolute\" top={0} right=\"15px\">\r\n                If you're in the sandbox, first \"Open in New Window\" ⬆️\r\n              </Text>\r\n              <VStack justifyContent=\"center\" alignItems=\"center\" h=\"100vh\">\r\n                <HStack marginBottom=\"10px\">\r\n                  <Text\r\n                    margin=\"0\"\r\n                    lineHeight=\"1.15\"\r\n                    fontSize={[\"1.5em\", \"2em\", \"3em\", \"4em\"]}\r\n                    fontWeight=\"600\"\r\n                  >\r\n                    Let's connect with\r\n                  </Text>\r\n                  <Text\r\n                    margin=\"0\"\r\n                    lineHeight=\"1.15\"\r\n                    fontSize={[\"1.5em\", \"2em\", \"3em\", \"4em\"]}\r\n                    fontWeight=\"600\"\r\n                    sx={{\r\n                      background:\r\n                        \"linear-gradient(90deg, #1652f0 0%, #b9cbfb 70.35%)\",\r\n                      WebkitBackgroundClip: \"text\",\r\n                      WebkitTextFillColor: \"transparent\",\r\n                    }}\r\n                  >\r\n                    Web3-React\r\n                  </Text>\r\n                </HStack>\r\n                <HStack>\r\n                  {!active ? (\r\n                    <Button onClick={onOpen}>Connect Wallet</Button>\r\n                  ) : (\r\n                    <Button onClick={disconnect}>Disconnect</Button>\r\n                  )}\r\n                </HStack>\r\n                <VStack\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  padding=\"10px 0\"\r\n                >\r\n                  <HStack>\r\n                    <Text>{`Connection Status: `}</Text>\r\n                    {active ? (\r\n                      <CheckCircleIcon color=\"green\" />\r\n                    ) : (\r\n                      <WarningIcon color=\"#cd5700\" />\r\n                    )}\r\n                  </HStack>\r\n\r\n                  <Tooltip label={account} placement=\"right\">\r\n                    <Text>{`Account: ${truncateAddress(account)}`}</Text>\r\n                  </Tooltip>\r\n                  <Text>{`Network ID: ${\r\n                    chainId ? chainId : \"No Network\"\r\n                  }`}</Text>\r\n                </VStack>\r\n                {active && (\r\n                  <HStack justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n                    <Box\r\n                      maxW=\"sm\"\r\n                      borderWidth=\"1px\"\r\n                      borderRadius=\"lg\"\r\n                      overflow=\"hidden\"\r\n                      padding=\"10px\"\r\n                    >\r\n                      <VStack>\r\n                        <Button onClick={switchNetwork} isDisabled={!network}>\r\n                          Switch Network\r\n                        </Button>\r\n                        <Select\r\n                          placeholder=\"Select network\"\r\n                          onChange={handleNetwork}\r\n                        >\r\n                          <option value=\"3\">Ropsten</option>\r\n                          <option value=\"4\">Rinkeby</option>\r\n                          <option value=\"42\">Kovan</option>\r\n                          <option value=\"1666600000\">Harmony</option>\r\n                          <option value=\"42220\">Celo</option>\r\n                        </Select>\r\n                      </VStack>\r\n                    </Box>\r\n                    <Box\r\n                      maxW=\"sm\"\r\n                      borderWidth=\"1px\"\r\n                      borderRadius=\"lg\"\r\n                      overflow=\"hidden\"\r\n                      padding=\"10px\"\r\n                    >\r\n                      <VStack>\r\n                        <Button onClick={signMessage} isDisabled={!message}>\r\n                          Sign Message\r\n                        </Button>\r\n                        <Input\r\n                          placeholder=\"Set Message\"\r\n                          maxLength={20}\r\n                          onChange={handleInput}\r\n                          w=\"140px\"\r\n                        />\r\n                        {signature ? (\r\n                          <Tooltip label={signature} placement=\"bottom\">\r\n                            <Text>{`Signature: ${truncateAddress(\r\n                              signature\r\n                            )}`}</Text>\r\n                          </Tooltip>\r\n                        ) : null}\r\n                      </VStack>\r\n                    </Box>\r\n                    <Box\r\n                      maxW=\"sm\"\r\n                      borderWidth=\"1px\"\r\n                      borderRadius=\"lg\"\r\n                      overflow=\"hidden\"\r\n                      padding=\"10px\"\r\n                    >\r\n                      <VStack>\r\n                        <Button onClick={verifyMessage} isDisabled={!signature}>\r\n                          Verify Message\r\n                        </Button>\r\n                        {verified !== undefined ? (\r\n                          verified === true ? (\r\n                            <VStack>\r\n                              <CheckCircleIcon color=\"green\" />\r\n                              <Text>Signature Verified!</Text>\r\n                            </VStack>\r\n                          ) : (\r\n                            <VStack>\r\n                              <WarningIcon color=\"red\" />\r\n                              <Text>Signature Denied!</Text>\r\n                            </VStack>\r\n                          )\r\n                        ) : null}\r\n                      </VStack>\r\n                    </Box>\r\n                  </HStack>\r\n                )}\r\n                <Text>{error ? error.message : null}</Text>\r\n              </VStack>\r\n              <SelectWalletModal isOpen={isOpen} closeModal={onClose} />\r\n            </>\r\n            '{\" \"}\r\n            <div class=\"trans trans mc\">\r\n              <div class=\"trans-details\">\r\n                <span class=\"trans-plus\"></span>\r\n                <h3 class=\"trans-name\">Apple Iphone 6, 6g GB</h3>\r\n                <h5 class=\"trans-type-date\">\r\n                  Electronics #343223 - 12 July, 2015\r\n                </h5>\r\n              </div>\r\n              <div class=\"trans-amt\">\r\n                <h4 class=\"trans-amt amt-green\">5000 DT</h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </content>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Finance;\r\n"]},"metadata":{},"sourceType":"module"}