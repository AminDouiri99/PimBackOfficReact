{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\pimbackoffice\\\\src\\\\pages\\\\Login\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Wrapper, Form, Input, Button, Title } from './LoginElements';\nimport { BaseUrl } from '../../helpers/base_url';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  const doTheLogin = async () => {\n    await axios.post(BaseUrl + \"/employe/login\", {\n      email: email,\n      password: password\n    }).then(res => {\n      if (res.status == 200) {\n        localStorage.setItem('auth', true);\n        localStorage.setItem('id', res.data['employe']['_id']);\n        localStorage.setItem('firstname', res.data['employe']['firstName']);\n        localStorage.setItem('lastname', res.data['employe']['lastName']);\n        localStorage.setItem('email', res.data['employe']['email']);\n        localStorage.setItem('role', res.data['employe']['role']);\n        history.push(\"/\");\n      }\n\n      if (res.status == 422) {\n        alert(`Invalid email or password`);\n      }\n\n      console.log(res);\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    doTheLogin();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Welcome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          name: \"email\",\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"email\",\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"password\",\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"Eue7WLJQqGaNgGRWwTWPwCzF35c=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/pimbackoffice/src/pages/Login/login.js"],"names":["React","useState","Wrapper","Form","Input","Button","Title","BaseUrl","axios","useHistory","Login","email","setEmail","password","setPassword","history","doTheLogin","post","then","res","status","localStorage","setItem","data","push","alert","console","log","handleSubmit","event","preventDefault","e","target","value"],"mappings":"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","sourcesContent":["import React ,{useState}from 'react';\r\nimport { Wrapper,Form ,Input,Button, Title} from './LoginElements';\r\nimport { BaseUrl } from '../../helpers/base_url';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\nconst Login=()=>{\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const history = useHistory();\r\n    const doTheLogin= async() =>  {\r\n      await axios.post(\r\n        BaseUrl + \"/employe/login\",\r\n        {\r\n          email: email ,\r\n          password: password\r\n        }\r\n      ).then((res) => {\r\n        if (res.status == 200) {\r\n          localStorage.setItem('auth',true);\r\n          localStorage.setItem('id',res.data['employe']['_id']);\r\n          localStorage.setItem('firstname',res.data['employe']['firstName']);\r\n          localStorage.setItem('lastname',res.data['employe']['lastName']);\r\n          localStorage.setItem('email',res.data['employe']['email']);\r\n          localStorage.setItem('role',res.data['employe']['role']);\r\n          history.push(\"/\");\r\n        }\r\n        if (res.status == 422)\r\n        {\r\n          alert(`Invalid email or password`);\r\n        }\r\n        console.log(res);\r\n      });\r\n    }\r\n    const handleSubmit = event => {\r\n      event.preventDefault();\r\n      doTheLogin();\r\n    };\r\n    return <>\r\n  <Wrapper>\r\n        <Form onSubmit={handleSubmit}>\r\n            <Title>Welcome</Title>\r\n          <Input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={e=>setEmail(e.target.value)}\r\n            placeholder='email'\r\n            value={email}\r\n          />\r\n          <Input\r\n          onChange={e=>setPassword(e.target.value)}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder='password'\r\n            value={password}\r\n          />\r\n          <Button type=\"submit\">Login</Button>\r\n        </Form>\r\n      </Wrapper>\r\n    </>\r\n};  \r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}