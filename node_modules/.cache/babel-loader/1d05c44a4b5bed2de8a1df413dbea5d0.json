{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\21653\\\\Downloads\\\\tua-react-admin-main\\\\tua-react-admin-main\\\\src\\\\pages\\\\Resto\\\\Resto.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { BaseUrl } from \"../../helpers/base_url\";\nimport { useState } from \"react\";\nimport { Input } from \"../Login/LoginElements\";\nimport GoogleMapReact from \"google-map-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AnyReactComponent = ({\n  text\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: text\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 41\n}, this);\n\n_c = AnyReactComponent;\n\nconst Resto = () => {\n  _s();\n\n  const data = new FormData();\n  const [openupdate, setopenupdate] = useState(false);\n  const [imgUpdate, setimgUpdate] = useState({});\n  const [openEdit, setopenEdit] = useState(false);\n  const [dataReady, setdataReady] = useState(false);\n  const [restoData, setrestoData] = useState({\n    name: \"\",\n    description: \"\",\n    location: [],\n    speciality: \"\",\n    image: \"\"\n  });\n  const [restoDataEdit, setrestoDataEdit] = useState({\n    name: \"\",\n    description: \"\",\n    location: [],\n    speciality: \"\",\n    image: \"\"\n  });\n\n  const openEditRestofore = async restaurant => {\n    setopenEdit(false);\n    await setrestoData(restaurant);\n    setopenEdit(true);\n  };\n\n  const UpdateRestau = async () => {\n    data.append(\"image\", imgUpdate);\n    data.append(\"name\", restoDataEdit.name);\n    data.append(\"description\", restoDataEdit.description);\n    data.append(\"speciality\", restoDataEdit.speciality);\n    console.log(restoDataEdit);\n    await axios.put(BaseUrl + \"/restaurant/update\", data, {\n      headers: {\n        restaurantId: localStorage.getItem(\"restaurant_id\")\n      }\n    }).then(async res => {\n      if (res.status == 201) {\n        doCloseupdate();\n        setrestoData({});\n        setopenEdit(false); //await setrestoData((restoData) => [...restoData, res.data]);\n\n        setopenEdit(true);\n      }\n    });\n  };\n\n  React.useEffect(async () => {\n    await axios.get(BaseUrl + \"/restaurant/\", {\n      headers: {\n        idrestaurant: localStorage.getItem(\"restaurant_id\")\n      }\n    }).then(response => {\n      //   console.log(response.data);\n      if (response.status == 200) {\n        console.log(response.data);\n        setdataReady(true);\n        setrestoData(response.data);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const doCloseupdate = () => {\n    console.log(\"aaa\");\n    setopenEdit(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [dataReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openEditRestofore(restoData),\n        className: \"button col-2\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", restoData.name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", restoData.description, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", restoData.speciality, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: restoData.image,\n        style: {\n          height: \"auto\",\n          width: \"35%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), openEdit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Restaurant name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Restaurant name\",\n        value: restoDataEdit[\"name\"],\n        onChange: e => setrestoDataEdit({\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Restaurant description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Restaurant description\",\n        value: restoDataEdit.description,\n        onChange: e => setrestoDataEdit(prev => ({\n          name: prev.name,\n          description: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Restaurant speciality\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"Restaurant speciality\",\n          value: restoDataEdit.speciality,\n          onChange: e => setrestoDataEdit(prev => ({\n            name: prev.name,\n            description: prev.description,\n            speciality: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Restaurant picture\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          onChange: e => {\n            console.log(\"image\", e.target.files[0]);\n            setimgUpdate(e.target.files[0]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button col-12\",\n            onClick: UpdateRestau,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button col-12\",\n            onClick: doCloseupdate,\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Resto, \"w78BqBCVwjBk/MSbNHKi8txTisw=\");\n\n_c2 = Resto;\nexport default Resto;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AnyReactComponent\");\n$RefreshReg$(_c2, \"Resto\");","map":{"version":3,"sources":["C:/Users/21653/Downloads/tua-react-admin-main/tua-react-admin-main/src/pages/Resto/Resto.jsx"],"names":["React","axios","BaseUrl","useState","Input","GoogleMapReact","AnyReactComponent","text","Resto","data","FormData","openupdate","setopenupdate","imgUpdate","setimgUpdate","openEdit","setopenEdit","dataReady","setdataReady","restoData","setrestoData","name","description","location","speciality","image","restoDataEdit","setrestoDataEdit","openEditRestofore","restaurant","UpdateRestau","append","console","log","put","headers","restaurantId","localStorage","getItem","then","res","status","doCloseupdate","useEffect","get","idrestaurant","response","catch","error","height","width","e","target","value","prev","files"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { BaseUrl } from \"../../helpers/base_url\";\r\nimport { useState } from \"react\";\r\nimport { Input } from \"../Login/LoginElements\";\r\n\r\nimport GoogleMapReact from \"google-map-react\";\r\nconst AnyReactComponent = ({ text }) => <div>{text}</div>;\r\nconst Resto = () => {\r\n  const data = new FormData();\r\n  const [openupdate, setopenupdate] = useState(false);\r\n  const [imgUpdate, setimgUpdate] = useState({});\r\n  const [openEdit, setopenEdit] = useState(false);\r\n  const [dataReady, setdataReady] = useState(false);\r\n  const [restoData, setrestoData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    location: [],\r\n    speciality: \"\",\r\n    image: \"\",\r\n  });\r\n  const [restoDataEdit, setrestoDataEdit] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    location: [],\r\n    speciality: \"\",\r\n    image: \"\",\r\n  });\r\n  const openEditRestofore = async (restaurant) => {\r\n    setopenEdit(false);\r\n    await setrestoData(restaurant);\r\n    setopenEdit(true);\r\n  };\r\n\r\n  const UpdateRestau = async () => {\r\n    data.append(\"image\", imgUpdate);\r\n    data.append(\"name\", restoDataEdit.name);\r\n    data.append(\"description\", restoDataEdit.description);\r\n    data.append(\"speciality\", restoDataEdit.speciality);\r\n    console.log(restoDataEdit);\r\n    await axios\r\n      .put(BaseUrl + \"/restaurant/update\", data, {\r\n        headers: {\r\n          restaurantId: localStorage.getItem(\"restaurant_id\"),\r\n        },\r\n      })\r\n      .then(async (res) => {\r\n        if (res.status == 201) {\r\n          doCloseupdate();\r\n          setrestoData({});\r\n          setopenEdit(false);\r\n          //await setrestoData((restoData) => [...restoData, res.data]);\r\n          setopenEdit(true);\r\n        }\r\n      });\r\n  };\r\n  React.useEffect(async () => {\r\n    await axios\r\n      .get(BaseUrl + \"/restaurant/\", {\r\n        headers: {\r\n          idrestaurant: localStorage.getItem(\"restaurant_id\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        //   console.log(response.data);\r\n        if (response.status == 200) {\r\n          console.log(response.data);\r\n          setdataReady(true);\r\n          setrestoData(response.data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n  const doCloseupdate = () => {\r\n    console.log(\"aaa\");\r\n    setopenEdit(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {dataReady ? (\r\n        <div>\r\n          <button\r\n            onClick={() => openEditRestofore(restoData)}\r\n            className=\"button col-2\"\r\n          >\r\n            Edit\r\n          </button>\r\n          <div> {restoData.name} </div>\r\n          <br></br>\r\n          <div> {restoData.description} </div>\r\n          <br></br>\r\n          <div> {restoData.speciality} </div>\r\n          <br></br>\r\n          <img src={restoData.image} style={{ height: \"auto\", width: \"35%\" }} />\r\n          <br></br>\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n      {openEdit ? (\r\n        <div className=\"col-12\">\r\n          <br />\r\n\r\n          <label>Restaurant name</label>\r\n          <br />\r\n          <br />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Restaurant name\"\r\n            value={restoDataEdit[\"name\"]}\r\n            onChange={(e) => setrestoDataEdit({ name: e.target.value })}\r\n          />\r\n          <br />\r\n\r\n          <label>Restaurant description</label>\r\n          <br />\r\n          <br />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Restaurant description\"\r\n            value={restoDataEdit.description}\r\n            onChange={(e) =>\r\n              setrestoDataEdit((prev) => ({\r\n                name: prev.name,\r\n                description: e.target.value,\r\n              }))\r\n            }\r\n          />\r\n\r\n          <label>\r\n            <br />\r\n\r\n            <label>Restaurant speciality</label>\r\n            <br />\r\n            <br />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Restaurant speciality\"\r\n              value={restoDataEdit.speciality}\r\n              onChange={(e) =>\r\n                setrestoDataEdit((prev) => ({\r\n                  name: prev.name,\r\n                  description: prev.description,\r\n                  speciality: e.target.value,\r\n                }))\r\n              }\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            Restaurant picture\r\n            <br />\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              onChange={(e) => {\r\n                console.log(\"image\", e.target.files[0]);\r\n                setimgUpdate(e.target.files[0]);\r\n              }}\r\n            />\r\n          </label>\r\n          <div className=\"row\">\r\n            <div className=\"col-3\">\r\n              {\" \"}\r\n              <button className=\"button col-12\" onClick={UpdateRestau}>\r\n                Update\r\n              </button>\r\n            </div>\r\n            <div className=\"col-3\">\r\n              <button className=\"button col-12\" onClick={doCloseupdate}>\r\n                cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Resto;\r\n"]},"metadata":{},"sourceType":"module"}